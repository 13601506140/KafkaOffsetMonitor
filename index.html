<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

	<link rel="canonical" href="http://quantifind.com"/>

    <title>Kafka Offset Monitor by quantifind</title>
  </head>

  <body>

    <header>
	  <a href="http://www.quantifind.com"><img src="http://blog.quantifind.com/assets/images/blog-logo.svg" style="float: left;"></a>
      <div class="container">
        <h1>Kafka Offset Monitor</h1>
        <h2>A little app to monitor the progress of kafka consumers and their lag wrt the queue.</h2>

        <section id="downloads">
          <a href="https://github.com/quantifind/KafkaOffsetMonitor/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/quantifind/KafkaOffsetMonitor/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/quantifind/KafkaOffsetMonitor" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="kafka-offset-monitor" class="anchor" href="#kafka-offset-monitor"><span class="octicon octicon-link"></span></a>Kafka Offset Monitor</h1>

<p>This is an app to monitor your kafka consumers and their position (offset) in the queue.</p>

<p>You can see the current consumer groups, for each group the topics that they are consuming and the position of the group in each topic queue. This is useful to understand how quick you are consuming from a queue and how fast the queue is growing. It allows for debuging kafka producers and consumers or just to have an idea of what is going on in  your system.</p>

<p>The app keeps an history of queue position and lag of the consumers so you can have an overview of what has happened in the last days.</p>

<p>Here are a few screenshots:</p>

<h2>
<a name="list-of-consumer-groups" class="anchor" href="#list-of-consumer-groups"><span class="octicon octicon-link"></span></a>List of Consumer Groups</h2>

<p><img src="http://quantifind.github.io/KafkaOffsetMonitor/img/groups.png" alt="Consumer Groups"></p>

<h2>
<a name="list-of-topics-for-a-group" class="anchor" href="#list-of-topics-for-a-group"><span class="octicon octicon-link"></span></a>List of Topics for a Group</h2>

<p><img src="http://quantifind.github.io/KafkaOffsetMonitor/img/topics.png" alt="Topic List"></p>

<h2>
<a name="history-of-topic-position" class="anchor" href="#history-of-topic-position"><span class="octicon octicon-link"></span></a>History of Topic position</h2>

<p><img src="http://quantifind.github.io/KafkaOffsetMonitor/img/graph.png" alt="Position Graph"></p>

<h1>
<a name="running-it" class="anchor" href="#running-it"><span class="octicon octicon-link"></span></a>Running It</h1>

<p>If you do not want to build it manually, just download the <a href="https://github.com/quantifind/KafkaOffsetMonitor/releases/latest">current jar</a>.</p>

<p>This is a small webapp, you can run it locally or on a server, as long as you have access to the ZooKeeper nodes controlling kafka.</p>

<pre><code>java -cp KafkaOffsetMonitor-assembly-0.2.1.jar \
     com.quantifind.kafka.offsetapp.OffsetGetterWeb \
     --zk zk-server1,zk-server2 \
     --port 8080 \
     --refresh 10.seconds \
     --retain 2.days
</code></pre>

<p>The arguments are:</p>

<ul>
<li>
<strong>zk</strong> the ZooKeeper hosts</li>
<li>
<strong>port</strong> on what port will the app be available</li>
<li>
<strong>refresh</strong> how often should the app refresh and store a point in the DB</li>
<li>
<strong>retain</strong> how long should points be kept in the DB</li>
<li>
<strong>dbName</strong> where to store the history (default 'offsetapp')</li>
</ul>
      </section>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-48773433-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
